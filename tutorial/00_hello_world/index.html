<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    

    <title>Hello World | Regent</title>
    
    <meta name="author" content="Stanford University">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/style.css" rel="stylesheet" type="text/css" media="all">
    <link href="/css/syntax.css" rel="stylesheet" type="text/css" media="all">

    <!-- Fav and touch icons -->
    <!-- Update these with your own images
      <link rel="shortcut icon" href="images/favicon.ico">
      <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
      <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
      <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
    -->
  </head>
  <body>

    <header class="navbar navbar-static-top rg-nav" id="top" role="banner">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target=".rg-navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="/" class="navbar-brand">Regent</a>
    </div>
    <nav class="collapse navbar-collapse rg-navbar-collapse" role="navigation">
      <ul class="nav navbar-nav">
        
          
            
            
            
            <li class="">
              <a href="/install">Install</a>
            </li>
            
          
        
          
            
            
            
            <li class="">
              <a href="/tutorial">Tutorial</a>
            </li>
            
          
        
          
            
            
            
            <li class="">
              <a href="/reference">Reference</a>
            </li>
            
          
        
          
            
            
            
            <li class="">
              <a href="/resources">Resources</a>
            </li>
            
          
        
          
            
            
            
            <li class="">
              <a href="/publications">Publications</a>
            </li>
            
          
        
      </ul>

      <ul class="nav navbar-nav navbar-right">
        <li><a href="https://github.com/StanfordLegion/legion/tree/master/language">GitHub</a></li>
        <li><a href="/about">About</a></li>
      </ul>
    </nav>
  </div>
</header>


    <div class="container with-img-responsive">
  <div class="row">
    <div class="col-md-12">

      
        <h1 class="page-header">
          
            Hello World

          
          
        </h1>
      

      <p>No tutorial would be complete without a Hello World example. Below is the source code for Hello World in Regent, with descriptions of the various portions of the program following. The source for this and other tutorials can also be found in the <a href="https://github.com/StanfordLegion/legion/tree/master/tutorial">GitHub repository</a>.</p>
<figure class="highlight">
<pre><code class="language-regent" data-lang="regent"><span class="k">import</span> <span class="s2">"regent"</span>

<span class="kd">local</span> <span class="n">format</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s2">"std/format"</span><span class="p">)</span>

<span class="k">task</span> <span class="nf">hello_world</span><span class="p">()</span>
  <span class="n">format</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s2">"Hello World!"</span><span class="p">)</span>
<span class="k">end</span>

<span class="k">task</span> <span class="nf">main</span><span class="p">()</span>
  <span class="n">hello_world</span><span class="p">()</span>
<span class="k">end</span>
<span class="n">regentlib</span><span class="p">.</span><span class="n">start</span><span class="p">(</span><span class="n">main</span><span class="p">)</span></code></pre>
</figure>
<h2 id="preamble">Preamble</h2>
<p>Regent is an embedded language. The outermost level of the source code is a <a href="https://www.lua.org/">Lua script</a>. By default, everything you see in a Regent program is written in Lua. The program switches into Regent when certain keywords (e.g., <code>task</code>) are used. This allows Regent and Lua code to be used side-by-side in the same program.</p>
<p>In order to register Regent’s keywords with the Lua interpreter, every Regent program starts with the following line:</p>
<figure class="highlight">
<pre><code class="language-regent" data-lang="regent"><span class="k">import</span> <span class="s2">"regent"</span></code></pre>
</figure>
<p>(If you forget this line, you will typically see a parser error, as Lua attempts to interpret Regent keywords as Lua variable names.)</p>
<h2 id="lua-code">Lua Code</h2>
<p>Execution of a script begins in Lua. The code runs top-to-bottom, like a standard scripting language. Unlike a traditional programming language, Regent constructs can <em>also</em> be embedded in the program.</p>
<p>Important: in most cases, Lua code cannot directly call Regent tasks. (The exception, <code>regentlib.start</code>, is shown below.) This means that it is best to think of Lua running “at compile time” from the perspective of Regent. Exactly what this means, and how to use it, will be explored in a future tutorial.</p>
<p>As an example, the line below loads the <code>std/format</code> module from the Regent standard library, which provides utilities for formatted printing. This is stored in a Lua variable (with <code>local</code>) under the name <code>format</code>.</p>
<figure class="highlight">
<pre><code class="language-regent" data-lang="regent"><span class="kd">local</span> <span class="n">format</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s2">"std/format"</span><span class="p">)</span></code></pre>
</figure>
<h2 id="hello-world-task">Hello World Task</h2>
<p>Next we define a Regent task. This is done with the <code>task</code> keyword. Note that, once we reach the <code>task</code> keyword, <em>subsequent code is in Regent</em> (until the matching <code>end</code>). After <code>end</code> we return to Lua to continue execution.</p>
<p>Regent tasks are covered in a future tutorial, but for now it is sufficient to say that they behave like functions.</p>
<figure class="highlight">
<pre><code class="language-regent" data-lang="regent"><span class="k">task</span> <span class="nf">hello_world</span><span class="p">()</span>
  <span class="n">format</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s2">"Hello World!"</span><span class="p">)</span>
<span class="k">end</span></code></pre>
</figure>
<h2 id="main-task">Main Task</h2>
<p>After this, we define the main task. The main task, like <code>main</code> in many languages, takes no arguments and produces no result. (Unlike many languages, the name <code>main</code> is just a convention in Regent. It could be anything.)</p>
<p>Here, our main task invokes <code>hello_world</code> to produce the output message.</p>
<figure class="highlight">
<pre><code class="language-regent" data-lang="regent"><span class="k">task</span> <span class="nf">main</span><span class="p">()</span>
  <span class="n">hello_world</span><span class="p">()</span>
<span class="k">end</span></code></pre>
</figure>
<h2 id="starting-execution">Starting Execution</h2>
<p>Finally, at the end of the file, we start the program (beginning with <code>main</code>). Note that, as described earlier, this is the only place where Lua is permitted to call into Regent. After this call, execution begins at <code>main</code> and proceeds through the Regent program.</p>
<p>In our example, <code>main</code> calls <code>hello_world</code>, which calls <code>format.println</code>, which prints a line to the standard output of the program.</p>
<p>The <code>start</code> call <em>does not return</em>. Furthermore, the Lua execution environment used to compile the Regent program is also unavailable after this function is called. So complete any Lua programming prior to calling this function.</p>
<figure class="highlight">
<pre><code class="language-regent" data-lang="regent"><span class="n">regentlib</span><span class="p">.</span><span class="n">start</span><span class="p">(</span><span class="n">main</span><span class="p">)</span></code></pre>
</figure>

    </div>
  </div>
</div>


    <footer class="rg-footer" role="contentinfo">
  <div class="container">
    <p>&copy; 2022 Stanford University.</p>
    <p>Powered by <a href="http://jekyllrb.com/">Jekyll</a> and <a href="http://getbootstrap.com/">Bootstrap</a>.</p>

    <ul class="rg-footer-links muted">
      <li><a href="/">Home</a></li>
      <li>&middot;</li>
      
        
          <li><a href="/install">Install</a></li>
          <li>&middot;</li>
        
      
        
          <li><a href="/tutorial">Tutorial</a></li>
          <li>&middot;</li>
        
      
        
          <li><a href="/reference">Reference</a></li>
          <li>&middot;</li>
        
      
        
          <li><a href="/resources">Resources</a></li>
          <li>&middot;</li>
        
      
        
          <li><a href="/publications">Publications</a></li>
          <li>&middot;</li>
        
      
      <li><a href="https://github.com/StanfordLegion/legion/tree/master/language">GitHub</a></li>
      <li>&middot;</li>
      <li><a href="/about">About</a></li>
    </ul>
  </div>
</footer>


    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="/bootstrap/js/bootstrap.min.js"></script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-71475406-1', 'auto');
      ga('send', 'pageview');

    </script>
  </body>
</html>
